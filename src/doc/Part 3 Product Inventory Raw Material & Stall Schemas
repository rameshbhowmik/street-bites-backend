# Street Bites - Database Schema Documentation
## Part 3: Product, Inventory, Raw Material & Stall Schemas

---

## üì¶ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞

```
backend/
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ models/
        ‚îú‚îÄ‚îÄ Product.js          ‚úÖ ‡¶§‡ßà‡¶∞‡¶ø
        ‚îú‚îÄ‚îÄ Inventory.js        ‚úÖ ‡¶§‡ßà‡¶∞‡¶ø
        ‚îú‚îÄ‚îÄ RawMaterial.js      ‚úÖ ‡¶§‡ßà‡¶∞‡¶ø
        ‚îî‚îÄ‚îÄ Stall.js            ‚úÖ ‡¶§‡ßà‡¶∞‡¶ø
```

---

## 1Ô∏è‚É£ Product Schema - ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ

### ‡¶Æ‡ßÇ‡¶≤ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞:
- ‚úÖ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶® (‡¶®‡¶æ‡¶Æ, ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø, ‡¶ü‡¶æ‡¶á‡¶™, ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ)
- ‚úÖ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü (‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø, ‡¶ñ‡¶∞‡¶ö ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø, ‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü)
- ‚úÖ ‡¶Æ‡¶∂‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ (Spiciness Level, ‡¶ï‡¶Æ/‡¶¨‡ßá‡¶∂‡¶ø ‡¶Æ‡¶∂‡¶≤‡¶æ ‡¶Ö‡¶™‡¶∂‡¶®)
- ‚úÖ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ü‡¶™‡¶ø‡¶Ç
- ‚úÖ ‡¶§‡¶æ‡¶ú‡¶æ ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º (Freshness Duration)
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
- ‚úÖ ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶ì ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ
- ‚úÖ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç (Total Sold, Popularity, Trending)
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï

### ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:

```javascript
const Product = require('./models/Product');

// ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
const newProduct = await Product.create({
  productName: 'Spicy Fuchka',
  productCategory: 'Snack',
  productType: 'Fuchka',
  description: '‡¶Æ‡¶∂‡¶≤‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶ï ‡¶´‡ßÅ‡¶ö‡¶ï‡¶æ',
  sellingPrice: 30,
  costPrice: 15,
  discount: {
    percentage: 10,
    startDate: new Date(),
    endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // 7 ‡¶¶‡¶ø‡¶®
  },
  spicinessLevel: 'High',
  spiceOptions: {
    lessSpices: { available: true, additionalPrice: 0 },
    moreSpices: { available: true, additionalPrice: 5 }
  },
  extraToppings: [
    { name: 'Extra Chanachur', price: 5, available: true },
    { name: 'Extra Onion', price: 3, available: true }
  ],
  preparationTime: 5,
  freshnessDuration: 2,
  availableStock: 100,
  unit: 'pcs',
  minStockAlert: 20,
  stallId: '507f1f77bcf86cd799439011',
  stallName: 'Balurghat Main Stall',
  addedBy: {
    userId: '507f1f77bcf86cd799439012',
    userName: 'Ramesh',
    userRole: 'Manager'
  }
});

// ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const trendingProducts = await Product.findTrending(10);
const stallProducts = await Product.findByStall('507f1f77bcf86cd799439011');

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
await newProduct.updateStock(50, 'add'); // 50 ‡¶ü‡¶ø ‡¶Ø‡ßã‡¶ó
await newProduct.updateStock(20, 'subtract'); // 20 ‡¶ü‡¶ø ‡¶¨‡¶æ‡¶¶

// ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newProduct.addReview({
  customerId: '507f1f77bcf86cd799439013',
  customerName: 'Suresh',
  rating: 5,
  comment: '‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶∏‡ßç‡¶¨‡¶æ‡¶¶!'
});

// Virtual fields
console.log(newProduct.profitMargin); // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶ø‡¶ü ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ú‡¶ø‡¶® %
console.log(newProduct.discountedPrice); // ‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø
console.log(newProduct.stockStatus); // "In Stock" / "Low Stock" / "Out of Stock"
```

---

## 2Ô∏è‚É£ Inventory Schema - ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ

### ‡¶Æ‡ßÇ‡¶≤ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞:
- ‚úÖ ‡¶Æ‡ßã‡¶ü ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
- ‚úÖ Production House ‡¶∏‡ßç‡¶ü‡¶ï
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶≤-‡¶ì‡¶Ø‡¶º‡¶æ‡¶á‡¶ú ‡¶∏‡ßç‡¶ü‡¶ï ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç
- ‚úÖ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç
- ‚úÖ Wastage ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü (‡¶®‡¶∑‡ßç‡¶ü ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°)
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶ï ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ (In, Out, Transfer)
- ‚úÖ Low Stock ‡¶è‡¶¨‡¶Ç Near Expiry ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶ü
- ‚úÖ ‡¶∏‡¶æ‡¶™‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶®

### ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:

```javascript
const Inventory = require('./models/Inventory');

// ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
const newInventory = await Inventory.create({
  itemType: 'product',
  productId: '507f1f77bcf86cd799439011',
  itemName: 'Spicy Fuchka',
  totalStockQuantity: 500,
  productionHouseStock: 300,
  stallWiseStock: [
    { stallId: '507f1f77bcf86cd799439012', stallName: 'Balurghat Main', quantity: 100 },
    { stallId: '507f1f77bcf86cd799439013', stallName: 'Tapan Branch', quantity: 100 }
  ],
  unit: 'pcs',
  batchNumber: 'BATCH-2026-001',
  productionDate: new Date(),
  expiryDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞
  shelfLife: 30,
  minStockLevel: 100,
  reorderQuantity: 200,
  costPerUnit: 15,
  productionHouseId: '507f1f77bcf86cd799439014'
});

// Low Stock ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const lowStockItems = await Inventory.findLowStock();

// Near Expiry ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® (‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ 7 ‡¶¶‡¶ø‡¶®‡ßá)
const nearExpiryItems = await Inventory.findNearExpiry(7);

// Expired ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const expiredItems = await Inventory.findExpired();

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newInventory.addStock(100, 'production-house');

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®
await newInventory.removeStock(50, 'sale');

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶´‡¶æ‡¶∞ (Production House -> Stall)
await newInventory.transferStock(
  '507f1f77bcf86cd799439012', 
  'Balurghat Main', 
  50
);

// Wastage ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
await newInventory.recordWastage({
  quantity: 10,
  reason: 'expired',
  reasonDetails: '‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡ßá',
  costImpact: 150,
  recordedBy: {
    userId: '507f1f77bcf86cd799439015',
    userName: 'Manager',
    userRole: 'Manager'
  }
});

// Virtual fields
console.log(newInventory.totalStallStock); // ‡¶Æ‡ßã‡¶ü ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶∏‡ßç‡¶ü‡¶ï
console.log(newInventory.stockPercentage); // ‡¶∏‡ßç‡¶ü‡¶ï ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶ú
console.log(newInventory.daysUntilExpiry); // ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶§‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶¶‡¶ø‡¶®
```

---

## 3Ô∏è‚É£ Raw Material Schema - ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ‡¶Æ‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ

### ‡¶Æ‡ßÇ‡¶≤ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞:
- ‚úÖ ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ‡¶Æ‡¶æ‡¶≤ ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶® (‡¶®‡¶æ‡¶Æ, ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø)
- ‚úÖ ‡¶∏‡¶æ‡¶™‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶∏ (‡¶®‡¶æ‡¶Æ, ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó, ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ)
- ‚úÖ **‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®** (10 digits, 6-9 ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ)
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
- ‚úÖ Quality Check ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ
- ‚úÖ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç (Last Purchase, Average Cost)
- ‚úÖ ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç
- ‚úÖ Storage Condition
- ‚úÖ Usage History (‡¶ï‡ßã‡¶® ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá)
- ‚úÖ Purchase History
- ‚úÖ Wastage ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç

### ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:

```javascript
const RawMaterial = require('./models/RawMaterial');

// ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ‡¶Æ‡¶æ‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
const newRawMaterial = await RawMaterial.create({
  materialName: 'Red Chilli Powder',
  materialCategory: '‡¶Æ‡¶∂‡¶≤‡¶æ',
  description: '‡¶≤‡¶æ‡¶≤ ‡¶Æ‡¶∞‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ó‡ßÅ‡¶Å‡¶°‡¶º‡ßã',
  supplier: {
    supplierName: 'Ram Suppliers',
    contactNumber: '9874561230', // ‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞
    address: 'Balurghat Market, West Bengal',
    supplierType: 'wholesale'
  },
  currentStock: 50,
  unit: 'kg',
  minStockLevel: 10,
  reorderQuantity: 30,
  costPerUnit: 200,
  lastPurchasePrice: 200,
  receivedDate: new Date(),
  expiryDate: new Date(Date.now() + 180 * 24 * 60 * 60 * 1000), // 6 ‡¶Æ‡¶æ‡¶∏
  storageCondition: 'dry',
  storageLocation: 'Storage Room A'
});

// Low Stock ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const lowStockRaw = await RawMaterial.findLowStock();

// Expiring Soon ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® (‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ 15 ‡¶¶‡¶ø‡¶®‡ßá)
const expiringSoon = await RawMaterial.findExpiringSoon(15);

// ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const spices = await RawMaterial.findByCategory('‡¶Æ‡¶∂‡¶≤‡¶æ');

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newRawMaterial.addStock(20, {
  unitPrice: 210,
  supplierName: 'Ram Suppliers',
  invoiceNumber: 'INV-001',
  receivedBy: {
    userId: '507f1f77bcf86cd799439016',
    userName: 'Store Manager'
  }
});

// ‡¶∏‡ßç‡¶ü‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
await newRawMaterial.useStock(5, {
  productId: '507f1f77bcf86cd799439017',
  productName: 'Spicy Fuchka',
  usedBy: {
    userId: '507f1f77bcf86cd799439018',
    userName: 'Chef'
  }
});

// Quality Check ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newRawMaterial.addQualityCheck({
  qualityScore: 5,
  qualityRemarks: 'excellent',
  checkedBy: {
    userId: '507f1f77bcf86cd799439019',
    userName: 'Quality Inspector'
  },
  notes: '‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶Æ‡¶æ‡¶®'
});

// Wastage ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
await newRawMaterial.recordWastage(2, 'spillage during transfer');

// Virtual fields
console.log(newRawMaterial.stockStatus); // "In Stock" / "Low Stock" / "Out of Stock"
console.log(newRawMaterial.daysUntilExpiry); // ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶§‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶¶‡¶ø‡¶®
console.log(newRawMaterial.totalStockValue); // ‡¶Æ‡ßã‡¶ü ‡¶∏‡ßç‡¶ü‡¶ï ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ
```

---

## 4Ô∏è‚É£ Stall Schema - ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ

### ‡¶Æ‡ßÇ‡¶≤ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞:
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶® (‡¶®‡¶æ‡¶Æ, ‡¶ï‡ßã‡¶°, ‡¶ü‡¶æ‡¶á‡¶™)
- ‚úÖ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ + Geo-location
- ‚úÖ **‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶™‡¶ø‡¶®‡¶ï‡ßã‡¶° ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®** (6 digits)
- ‚úÖ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï ‡¶ì ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü
- ‚úÖ ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
- ‚úÖ Operating Hours (‡¶¶‡¶ø‡¶® ‡¶ì ‡¶∏‡¶Æ‡¶Ø‡¶º)
- ‚úÖ ‡¶∏‡ßç‡¶ü‡¶ï ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏
- ‚úÖ ‡¶¶‡ßà‡¶®‡¶ø‡¶ï/‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï/‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç
- ‚úÖ ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
- ‚úÖ Hygiene Rating ‡¶è‡¶¨‡¶Ç Inspection Records
- ‚úÖ Alert ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ

### ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:

```javascript
const Stall = require('./models/Stall');

// ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
const newStall = await Stall.create({
  stallName: 'Street Bites Balurghat Main',
  stallCode: 'STL-0001',
  stallType: 'permanent',
  description: 'Main stall at Balurghat market area',
  address: {
    fullAddress: 'Balurghat Market, Main Road, Balurghat',
    area: 'Market Area',
    locality: 'Central Balurghat',
    city: 'Balurghat',
    pinCode: '733101',
    geoLocation: {
      latitude: 25.2231,
      longitude: 88.7765
    }
  },
  ownerId: '507f1f77bcf86cd79943901a',
  assignedManager: {
    managerId: '507f1f77bcf86cd79943901b',
    managerName: 'Ramesh Kumar',
    managerContact: '9874561234',
    assignedDate: new Date()
  },
  linkedProductionHouse: '507f1f77bcf86cd79943901c',
  defaultOpeningTime: '09:00',
  defaultClosingTime: '21:00'
});

// ‡¶è‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const marketStalls = await Stall.findByArea('Market Area');

// Open Stalls ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
const openStalls = await Stall.findOpenStalls();

// Nearby Stalls ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® (10 km ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá)
const nearbyStalls = await Stall.findNearby(25.2231, 88.7765, 10);

// ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
await newStall.openStall();

// ‡¶∏‡ßç‡¶ü‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
await newStall.closeStall();

// ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newStall.addEmployee({
  employeeId: '507f1f77bcf86cd79943901d',
  employeeName: 'Suresh Das',
  role: 'Employee'
});

// ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ ‡¶Ö‡¶™‡¶∏‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®
await newStall.removeEmployee('507f1f77bcf86cd79943901d');

// ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
await newStall.updateDailySales({
  totalOrders: 50,
  totalSales: 2500,
  cashSales: 1500,
  onlineSales: 1000,
  expenses: 500
});

// ‡¶™‡¶∞‡¶ø‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
await newStall.addInspection({
  inspectedBy: {
    userId: '507f1f77bcf86cd79943901e',
    userName: 'Health Inspector'
  },
  hygieneRating: 5,
  serviceRating: 4,
  remarks: 'Very clean and well-maintained',
  issues: [],
  recommendations: ['Keep up the good work']
});

// Virtual fields
console.log(newStall.totalEmployees); // ‡¶Æ‡ßã‡¶ü ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ
console.log(newStall.todaySales); // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º
console.log(newStall.statusText); // ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏
```

---

## üîê ‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®

‡¶∏‡¶¨ ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ‡¶Ø‡¶º ‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶á ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:

```javascript
validate: {
  validator: function(v) {
    // ‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: 10 digits, 6-9 ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ
    return /^[6-9]\d{9}$/.test(v);
  },
  message: '‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (10 digits, 6-9 ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ)'
}
```

**‡¶∏‡¶†‡¶ø‡¶ï ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:** 9874561234, 7890123456, 8123456789  
**‡¶≠‡ßÅ‡¶≤ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:** 1234567890 (1 ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ), 98745 (5 digits)

---

## üìä MongoDB Compass ‡¶è ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶â‡¶™‡¶æ‡¶Ø‡¶º

### 1. MongoDB Compass ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç Connect ‡¶ï‡¶∞‡ßÅ‡¶®

```
mongodb://localhost:27017/streetbites
```

### 2. Collections ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®:
- `products` - ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü
- `inventories` - ‡¶∏‡¶¨ ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø
- `rawmaterials` - ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ‡¶Æ‡¶æ‡¶≤
- `stalls` - ‡¶∏‡¶¨ ‡¶∏‡ßç‡¶ü‡¶≤

### 3. Sample Query ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®:

```javascript
// Low Stock Products
{ availableStock: { $lte: 20 }, isActive: true }

// Trending Products
{ isTrending: true, isAvailable: true }

// Near Expiry Inventory
{ 
  expiryDate: { 
    $lte: new Date(Date.now() + 7*24*60*60*1000) 
  },
  batchStatus: { $in: ['fresh', 'near-expiry'] }
}

// Open Stalls
{ currentStatus: 'open', isActive: true }
```

---

## üéØ ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶™‡¶¶‡¶ï‡ßç‡¶∑‡ßá‡¶™

1. ‚úÖ **Controllers ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®** (productController.js, inventoryController.js, ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)
2. ‚úÖ **Routes ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®** (product.routes.js, inventory.routes.js, ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)
3. ‚úÖ **API Testing** (Postman ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá)
4. ‚úÖ **Frontend Integration**

---

## üìù ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®

- ‡¶∏‡¶¨ ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ‡¶Ø‡¶º **‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü** ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ü‡¶õ‡ßá
- **‡¶á‡¶®‡ßç‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶® ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®** ‡¶∏‡¶¨ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶õ‡ßá
- **Best Practices** ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:
  - Indexes ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
  - Virtual Fields ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡ßá‡¶° ‡¶°‡¶æ‡¶ü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
  - Pre-save Middleware ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
  - Static Methods ‡¶ï‡¶Æ‡¶® queries ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
  - Instance Methods ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶™‡ßÅ‡¶≤‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

**‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶è‡¶ñ‡¶® Production-ready! üéâ**