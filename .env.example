# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=5000
NODE_ENV=development

# ============================================
# DATABASE CONFIGURATION (MongoDB Atlas)
# ============================================
# MongoDB Atlas Connection String
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>
MONGODB_URI=mongodb+srv://your_username:your_password@cluster0.xxxxx.mongodb.net/streetbites?retryWrites=true&w=majority

# ============================================
# JWT AUTHENTICATION - UPDATED FOR PART 7
# ============================================
# JWT Secret Key (Generate a strong random string)
# Command: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_complex

# Access Token Expiry (short-lived)
JWT_ACCESS_EXPIRE=15m

# Refresh Token Expiry (long-lived) - stored in database
JWT_REFRESH_EXPIRE=7d

# Legacy - for backward compatibility (use JWT_ACCESS_EXPIRE instead)
JWT_EXPIRE=7d

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Supabase Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Service Key (Backend API এর জন্য)
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here

# Supabase Anon Key (Frontend এর জন্য - optional)
SUPABASE_ANON_KEY=your_supabase_anon_public_key_here

# ============================================
# CLOUDINARY CONFIGURATION (Image Upload)
# ============================================
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# ============================================
# FRONTEND URL (CORS এর জন্য)
# ============================================
CLIENT_URL=http://localhost:3000

# ============================================
# SMS API CONFIGURATION (OTP এর জন্য)
# ============================================
# Option 1: MSG91 (Recommended for India)
MSG91_API_KEY=your_msg91_api_key
MSG91_SENDER_ID=STBITE
MSG91_ROUTE=4
MSG91_FLOW_ID=your_msg91_flow_id

# Option 2: Twilio (International)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# EMAIL CONFIGURATION (Nodemailer)
# ============================================
# Gmail SMTP Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_gmail_app_password

# Email From Details
EMAIL_FROM_NAME=Street Bites
EMAIL_FROM_ADDRESS=noreply@streetbites.com

# ============================================
# TWO-FACTOR AUTHENTICATION (2FA) - NEW
# ============================================
# App name for Google Authenticator
TWO_FACTOR_APP_NAME=Street Bites

# 2FA OTP expiry time (in minutes)
TWO_FACTOR_OTP_EXPIRE=5

# Number of backup codes to generate
TWO_FACTOR_BACKUP_CODES_COUNT=10

# ============================================
# SECURITY SETTINGS - NEW
# ============================================
# Maximum login attempts before account lock
MAX_LOGIN_ATTEMPTS=5

# Account lock duration (in minutes)
ACCOUNT_LOCK_DURATION=15

# Device trust expiry (in days) - 0 means never expire
DEVICE_TRUST_EXPIRE_DAYS=90

# Session inactivity timeout (in days)
SESSION_INACTIVITY_DAYS=30

# ============================================
# RATE LIMITING - NEW
# ============================================
# Strict rate limit (login, register, etc.)
STRICT_RATE_LIMIT_WINDOW_MS=900000
STRICT_RATE_LIMIT_MAX=5

# Moderate rate limit (general API)
MODERATE_RATE_LIMIT_WINDOW_MS=900000
MODERATE_RATE_LIMIT_MAX=100

# IP-based rate limit
IP_RATE_LIMIT_MAX=100

# ============================================
# PAYMENT GATEWAY (ভবিষ্যতে ব্যবহারের জন্য)
# ============================================
# Razorpay Configuration
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_FILE_SIZE=5242880
MAX_FILES=10

# ============================================
# API KEY (for external access)
# ============================================
API_KEY=your_api_key_for_external_access

# ============================================
# REDIS CONFIGURATION (Optional - for production)
# ============================================
# Redis URL for rate limiting and caching
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your_redis_password

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info

# ============================================
# GEOLOCATION SERVICE (Optional)
# ============================================
# For suspicious login detection
# IPSTACK_API_KEY=your_ipstack_api_key
# IPINFO_TOKEN=your_ipinfo_token

# ============================================
# PUSH NOTIFICATIONS (Optional)
# ============================================
# Firebase Cloud Messaging
# FCM_SERVER_KEY=your_fcm_server_key

# ============================================
# ANALYTICS (Optional)
# ============================================
# Google Analytics
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# ============================================
# DEPLOYMENT SETTINGS (Production)
# ============================================
# Use these in production deployment
# MONGODB_URI=mongodb+srv://prod_user:prod_password@production-cluster.mongodb.net/streetbites?retryWrites=true&w=majority
# CLIENT_URL=https://streetbites.com,https://www.streetbites.com
# NODE_ENV=production

# ============================================
# NOTES FOR SETUP
# ============================================
# 1. এই ফাইলটি .env নামে কপি করুন
# 2. সমস্ত placeholder values আপনার actual values দিয়ে replace করুন
# 3. .env ফাইলটি .gitignore এ add করুন
# 4. কখনো .env ফাইল GitHub এ push করবেন না
# 5. Production এ অবশ্যই strong JWT_SECRET ব্যবহার করুন
# 6. Gmail এর জন্য App Password ব্যবহার করুন (2FA enable করে)
# 7. MSG91 বা Twilio এর মধ্যে একটি configure করুন SMS এর জন্য